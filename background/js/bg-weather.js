var bgWeather={tempUnitC:!0,init:function(){var e={today:{code:"29",temp:{current:"NaN",high:"NaN",low:"37"},text:"NaN"},future:[{code:"34",date:(new Date).getTime()+864e5,day:"Fri",high:"",low:"",text:"NaN"},{code:"28",date:(new Date).getTime()+1728e5,day:"Sat",high:"",low:"",text:"NaN"},{code:"30",date:(new Date).getTime()+2592e5,day:"Sun",high:"",low:"",text:"NaN"},{code:"30",date:(new Date).getTime()+3456e5,day:"Mon",high:"",low:"",text:"NaN"},{code:"39",date:(new Date).getTime()+432e6,day:"Tue",high:"",low:"",text:"NaN"}],location:{city:"Locating",country:"...",region:" NY"},woeid:2459115};tab.init("tab-weather",e),this.tempUnitC=tab.setting("tempUnitC"),chrome.alarms.create("queryWeather",{when:Date.now()+1e3,periodInMinutes:60})},transUnit:function(e){try{var t=parseInt(e);return this.tempUnitC?Math.round((t-32)/1.8):t}catch(t){return e}},queryWeather:function(){var e=tab.get("tab-weather").woeid,t="https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid="+e+"&format=json";$.ajax({url:t,dataType:"json"}).done(function(t){try{var a=t.query.results;if(a.channel.hasOwnProperty("item")){var i=a.channel,o={};o.today={code:i.item.condition.code,temp:{current:i.item.condition.temp,high:i.item.forecast[0].high,low:i.item.forecast[0].low},text:i.item.condition.text},o.future=[],o.location=i.location,o.woeid=e,i.item.forecast.map(function(e,t){t>0&&t<6&&o.future.push(e)}),tab.set("tab-weather",o),tab.sendMessage("updateWeather")}}catch(e){}}).fail(function(){}).always(function(){})}};